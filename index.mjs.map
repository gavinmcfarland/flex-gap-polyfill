{"version":3,"file":"index.mjs","sources":["src/index.js"],"sourcesContent":["import postcss from \"postcss\";\nvar valueParser = require('postcss-value-parser');\n\nconst pf = \"--fgp-\";\nconst CS = \" > *\";\nconst SS = \" > ::slotted(*)\";\n\n// function supportNativeSolution(decl) {\n// \tconst container = decl.parent;\n\n// \tconst item = postcss.rule({ selector: container.selector + CS });\n\n// \tvar mediaRule = postcss.rule({ selector: '@media (pointer: coarse), (pointer: fine)' })\n// \tvar supportsRule = postcss.rule({ selector: '@supports (-moz-user-select: none) or (width: max(1px, 2px))' })\n// \tvar cssRule = postcss.rule({ selector: container.selector })\n\n// \tvar cssRule2 = postcss.rule({ selector: item.selector })\n\n// \tsupportsRule.append(cssRule2)\n\n// \tsupportsRule.append(cssRule)\n\n// \tcssRule2.append(\n// \t\t`margin: initial;`\n// \t);\n\n// \tcssRule.append(\n// \t\t`margin-top: initial;\n// \t\t padding: initial;`\n// \t);\n\n// \tmediaRule.append(supportsRule)\n\n// \tcontainer.after(mediaRule)\n// }\n\nfunction hasFlex(decl) {\n\tconst container = decl.parent;\n\n\tconst item = postcss.rule({ selector: container.selector + CS });\n\n\tif (decl.value === \"flex\" || decl.value === \"inline-flex\") {\n\t\tcontainer.before(item);\n\n\t\tcontainer.append(\n\t\t\t`${pf}has-polyfil_gap-container: initial;`\n\t\t);\n\t\titem.append(\n\t\t\t`${pf}has-polyfil_gap-item: initial;`\n\t\t);\n\t}\n\n\titem.walk(i => { i.raws.before = \"\\n\\t\" });\n}\n\n\nfunction addGap(rule, values, opts) {\n\n\tconst container = rule;\n\n\tconst item = postcss.rule({ selector: container.selector + CS });\n\tconst reset = postcss.rule({ selector: container.selector + CS + CS });\n\tconst slotted = postcss.rule({ selector: container.selector + SS });\n\tcontainer.before(item);\n\titem.before(reset);\n\n\tconst properties = [\"_row\", \"_column\"];\n\n\tproperties.forEach((axis, index) => {\n\n\t\tvar value = values[index];\n\n\t\tif (value === \"0\") {\n\t\t\tvalue = \"0px\";\n\t\t}\n\t\tvar number = valueParser.unit(value).number;\n\t\tvar unit = valueParser.unit(value).unit;\n\n\t\tvar percentageRowGaps = opts.percentageRowGaps || unit != \"%\" && axis === \"_row\";\n\n\t\t// Percentages\n\t\tif (unit === \"%\") {\n\t\t\t// formula: (parent - self) / (100 - self) * 100\n\t\t\tcontainer.append(\n\t\t\t\t`${pf}gap_percentage-decimal${axis}: ${number / 100};\n\t\t\t\t${pf}gap_container${axis}: var(${pf}has-polyfil_gap-container, var(${pf}gap_percentage-to-pixels${axis}, calc( ((var(${pf}gap_parent${axis}, 0%) - ${value}) * var(${pf}width_percentages-decimal, 1)) / (100 - ${number}) * 100))) !important;`\n\t\t\t);\n\n\t\t}\n\n\t\t// Pixels, Ems\n\t\telse {\n\t\t\t// formula: (parent - self)\n\t\t\tcontainer.append(\n\t\t\t\t`${pf}gap_container${axis}: var(${pf}has-polyfil_gap-container, calc(var(${pf}gap_parent${axis}, 0px) - ${value})) !important;`\n\t\t\t);\n\n\t\t}\n\n\t\treset.append(\n\t\t\t`${pf}gap_item${axis}: initial;`\n\t\t);\n\n\t\titem.append(\n\t\t\t`${pf}gap_container${axis}: initial;\n\t\t\t${pf}gap_parent${axis}: var(${pf}has-polyfil_gap-item, ${value}) !important;\n\t\t\t${pf}gap_item${axis}: var(${pf}has-polyfil_gap-item, ${value}) !important;\n\t\t\t${pf}gap${axis}: var(${pf}gap_item${axis});`\n\t\t);\n\n\n\n\t\tif (percentageRowGaps) {\n\t\t\tif (axis === \"_row\") {\n\t\t\t\titem.append(\n\t\t\t\t\t`margin-top: var(${pf}gap${axis});`\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tif (axis === \"_column\") {\n\t\t\titem.append(\n\t\t\t\t`margin-right: var(${pf}gap${axis});`\n\t\t\t);\n\t\t}\n\n\t\tcontainer.append(\n\t\t\t`${pf}gap_parent${axis}: initial;\n\t\t\t${pf}gap_item${axis}: initial;\n\t\t\t${pf}gap${axis}: var(${pf}gap_container${axis}) !important;\n\t\t\tpadding-top: 0.02px;`\n\t\t);\n\n\t\tif (percentageRowGaps) {\n\t\t\tif (axis === \"_row\") {\n\t\t\t\tcontainer.append(\n\t\t\t\t\t`margin-top: var(${pf}gap${axis});`\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\tif (axis === \"_column\") {\n\t\t\tcontainer.append(\n\t\t\t\t`margin-right: var(${pf}gap${axis});`\n\t\t\t);\n\t\t}\n\n\t\t// If web components\n\t\tif (opts.webComponents === true) {\n\t\t\tcontainer.before(slotted);\n\n\t\t\tslotted.append(\n\t\t\t\t`${pf}gap_parent${axis}: ${value};\n\t\t\t\t${pf}gap_item${axis}: ${value};\n\t\t\t\t${pf}gap${axis}: var(${pf}gap_item${axis});`\n\t\t\t);\n\n\t\t\tif (percentageRowGaps) {\n\t\t\t\tif (axis === \"_row\") {\n\t\t\t\t\tslotted.append(\n\t\t\t\t\t\t`margin-top: var(${pf}gap${axis}) !important;`\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (axis === \"_column\") {\n\t\t\t\tslotted.append(\n\t\t\t\t\t`margin-right: var(${pf}gap${axis}) !important;`\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\t// container.append(\n\t\t// \t`width: 100%;\n\t\t// \tflex-grow: 0;`);\n\t});\n\n\n\n\tcontainer.walk(i => { i.raws.before = \"\\n\\t\" });\n\titem.walk(i => { i.raws.before = \"\\n\\t\" });\n\treset.walk(i => { i.raws.before = \"\\n\\t\" });\n\tslotted.walk(i => { i.raws.before = \"\\n\\t\" });\n\n}\n\nfunction removeGap(rule) {\n\trule.walkDecls((decl) => {\n\t\tif (decl.prop === \"gap\" || decl.prop === \"column-gap\" || decl.prop === \"row-gap\") {\n\t\t\tdecl.remove()\n\t\t}\n\t})\n}\n\nfunction addWidth(decl) {\n\n\tvar value = valueParser.unit(decl.value);\n\tlet prop = decl.prop;\n\n\tif (decl.value === 0) {\n\t\tdecl.value = \"0px\";\n\t}\n\n\tconst container = decl.parent;\n\tconst reset = postcss.rule({ selector: container.selector + CS });\n\n\tcontainer.before(reset);\n\n\tlet axis = \"\";\n\n\tif (prop === \"width\") {\n\t\taxis = \"_column\";\n\t}\n\telse {\n\t\taxis = \"_row\"\n\t}\n\n\t// Percentages\n\tif (value.unit === \"%\") {\n\t\tcontainer.append(\n\t\t\t`${pf}${prop}_percentages-decimal: ${value.number / 100} !important;`\n\t\t);\n\t\t// container.append(\n\t\t// \t`${pf}${prop}: calc(${decl.value} - var(${pf}gap_container${axis}, 0%)) !important;`\n\t\t// );\n\n\t\treset.append(\n\t\t\t`${pf}${prop}_percentages-decimal: initial;`\n\t\t);\n\t}\n\n\t// Pixels, Ems\n\telse {\n\t\tcontainer.append(\n\t\t\t`${pf}gap_percentage-to-pixels_column: calc(${\"-\" + decl.value} * var(${pf}gap_percentage-decimal${axis})) !important;\n\t\t\t${pf}gap_percentage-to-pixels_row: calc(${\"-\" + decl.value} * var(${pf}gap_percentage-decimal${axis})) !important;`\n\t\t);\n\t\tcontainer.append(\n\t\t\t`${pf}${prop}: calc(${decl.value} - var(${pf}gap_container${axis}, 0%)) !important;`\n\t\t);\n\n\t\treset.append(\n\t\t\t`${pf}gap_percentage-to-pixels_column: initial;\n\t\t\t${pf}gap_percentage-to-pixels_row: initial;`\n\t\t);\n\t}\n\n\t// decl.before(\n\t// \t`${prop}: var(${pf}${prop});`\n\t// );\n\n\t// decl.remove();\n\n\tcontainer.walk(i => { i.raws.before = \"\\n\\t\"; });\n\treset.walk(i => { i.raws.before = \"\\n\\t\"; });\n\n\n}\n\nexport default postcss.plugin(\"postcss-gap\", (opts) => {\n\t// var webComponents = false;\n\t// if (opts && opts.webComponents) {\n\t// \twebComponents = true;\n\t// }\n\n\treturn function (css) {\n\t\tconst root = postcss.rule({ selector: \":root\" });\n\n\t\tcss.prepend(root);\n\n\t\troot.append(\n\t\t\t`${pf}has-polyfil_gap-container: 0px;\n\t\t\t${pf}has-polyfil_gap-item: 0px;`\n\t\t);\n\n\t\troot.walk(i => { i.raws.before = \"\\n\\t\"; });\n\n\n\n\t\tcss.walkRules(rule => {\n\t\t\tvar gapValue = ['', '']\n\t\t\tvar hasGap = false;\n\t\t\tvar hassFlex = false;\n\n\t\t\trule.walkDecls(function (decl) {\n\t\t\t\tif (decl.prop === \"width\" || decl.prop === \"height\") {\n\t\t\t\t\taddWidth(decl);\n\t\t\t\t}\n\t\t\t\tif (decl.prop === \"display\") {\n\t\t\t\t\thasFlex(decl);\n\t\t\t\t}\n\n\t\t\t\t// var regex = /(?:(\\w+)-)?(gap)/gi\n\t\t\t\t// /^gap|gap$/.test(decl.prop)\n\n\n\n\t\t\t\tif (decl.prop === \"gap\" || decl.prop === \"column-gap\" || decl.prop === \"row-gap\") {\n\t\t\t\t\thasGap = true;\n\t\t\t\t\tif (decl.prop === \"row-gap\") {\n\t\t\t\t\t\tgapValue[0] = decl.value\n\t\t\t\t\t}\n\n\t\t\t\t\tif (decl.prop === \"column-gap\") {\n\t\t\t\t\t\tgapValue[1] = decl.value\n\t\t\t\t\t}\n\n\n\n\t\t\t\t\tif (decl.prop === \"gap\") {\n\t\t\t\t\t\tgapValue = postcss.list.space(decl.value);\n\t\t\t\t\t\tif (gapValue.length === 1) {\n\t\t\t\t\t\t\tgapValue.push(gapValue[0]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif (decl.prop === \"display\" && decl.value === \"flex\") {\n\t\t\t\t\thassFlex = true;\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t\tif (hasGap && hassFlex) {\n\t\t\t\taddGap(rule, gapValue, opts);\n\t\t\t\tremoveGap(rule);\n\t\t\t\t// supportNativeSolution(decl);\n\t\t\t}\n\t\t})\n\n\n\n\t};\n});\n"],"names":["valueParser","require","pf","CS","SS","hasFlex","decl","container","parent","item","postcss","rule","selector","value","before","append","walk","i","raws","addGap","values","opts","reset","slotted","properties","forEach","axis","index","number","unit","percentageRowGaps","webComponents","removeGap","walkDecls","prop","remove","addWidth","plugin","css","root","prepend","walkRules","gapValue","hasGap","hassFlex","list","space","length","push"],"mappings":"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"}